!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.hyperapp=t()}(this,function(){"use strict";function e(t,n,o){n.ns="http://www.w3.org/2000/svg";for(var r=0;r<o.length;r++){var a=o[r];a.data&&e(a.tag,a.data,a.tree)}}var t=function(e){function t(e,t,n){l(b,p=t(e,v),n,0)}function n(e,t){for(var n in e){var r,a=o(n),i={};if(t.replace(new RegExp(a.re,"g"),function(){for(var t=1;t<arguments.length-2;t++)i[a.keys.shift()]=arguments[t];r=function(t,o){return e[n](t,o,i)}}),r)return r}return e["/"]}function o(e){var t=[],n="^"+e.replace(/\//g,"\\/").replace(/:([A-Za-z0-9_]+)/g,function(e,n){return t.push(n),"([A-Za-z0-9_]+)"})+"/?$";return{re:n,keys:t}}function r(e){return"string"===e||"number"===e||"boolean"===e}function a(e,t){setTimeout(function(){e(t)},0)}function i(e,t){var n,o={};if(r(typeof t)||Array.isArray(t))return t;for(n in e)o[n]=e[n];for(n in t)o[n]=t[n];return o}function f(e,t){return e.tag!==t.tag||typeof e!=typeof t||r(typeof e)&&e!==t}function u(e){var t;if(r(typeof e))t=document.createTextNode(e);else{t=e.data&&e.data.ns?document.createElementNS(e.data.ns,e.tag):document.createElement(e.tag);for(var n in e.data)"oncreate"===n?a(e.data[n],t):d(t,n,e.data[n]);for(var o=0;o<e.tree.length;o++)t.appendChild(u(e.tree[o]))}return t}function c(e,t,n){e.removeAttribute("className"===t?"class":t),"boolean"!=typeof n&&"true"!==n&&"false"!==n||(e[t]=!1)}function d(e,t,n,o){if("style"===t)for(var r in n)e.style[r]=n[r];else if("on"===t.substr(0,2)){var a=t.substr(2);e.removeEventListener(a,o),e.addEventListener(a,n)}else"false"===n||n===!1?(e.removeAttribute(t),e[t]=!1):(e.setAttribute(t,n),e[t]=n)}function s(e,t,n){for(var o in i(n,t)){var r=t[o],f=n[o];void 0===r?c(e,o,f):r!==f&&("onupdate"===o?a(r,e):d(e,o,r,f))}}function l(e,t,n,o){if(void 0===n)e.appendChild(u(t));else if(void 0===t){for(;o>0&&!e.childNodes[o];)o--;if(o>=0){var r=e.childNodes[o];if(n&&n.data){var i=n.data.onremove;i&&a(i,r)}e.removeChild(r)}}else if(f(t,n))e.replaceChild(u(t),e.childNodes[o]);else if(t.tag){var r=e.childNodes[o];s(r,t.data,n.data);for(var c=t.tree.length,d=n.tree.length,p=0;p<c||p<d;p++)l(r,t.tree[p],n.tree[p],p)}}var p,v={},h=e.model,y=e.update||{},m=e.effects||{},g=e.subs||{},A=i({onAction:Function.prototype,onUpdate:Function.prototype,onError:function(e){throw e}},e.hooks),b=e.root||document.body.appendChild(document.createElement("div")),w=e.view||function(){return b},E="function"==typeof w?void 0:w;E&&(w=n(E,location.pathname),v.setLocation=function(e){t(h,w=n(E,e),p),history.pushState({},"",e)},window.addEventListener("popstate",function(){t(h,w=n(E,location.pathname),p)}),window.onclick=function(e){if(console.log("AMIGO"),!(e.metaKey||e.shiftKey||e.ctrlKey||e.altKey)){for(var t=e.target;t&&"a"!==t.localName;)t=t.parentNode;if(t&&t.host===location.host&&!t.hasAttribute("data-no-routing")){var n=""===t.hash?n:document.querySelector(t.hash);n||(v.setLocation(t.pathname),e.preventDefault())}}});for(var N in i(y,m))!function(e){v[e]=function(n){A.onAction(e,n);var o=m[e];if(o)return o(h,v,n,A.onError);var r=y[e],a=h;t(h=i(h,r(h,n)),w,p),A.onUpdate(a,h,n)}}(N);document.addEventListener("DOMContentLoaded",function(){for(var e in g)g[e](h,v,A.onError)}),t(h,w)},n=function(t,n){var o=[];o.push.apply(o,arguments),o.shift(),o.shift();var r=o[0];return o=Array.isArray(r)||void 0===r?r:o,"svg"===t&&e(t,n,o),{tag:t,data:n||{},tree:[].concat.apply([],o)}},o={app:t,h:n};return o});
//# sourceMappingURL=hyperapp.min.js.map
